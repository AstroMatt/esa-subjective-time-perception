<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <link href="_common.css" rel="stylesheet" type="text/css" />
    <script src="_common.js"></script>

    <style>
        li { list-style: none; }
    </style>

    <script>
        log('start', 'survey');
        
        function save() {
            log('end', 'survey');
            Experiment.update('survey', {
                email:     document.querySelector('input[name="email"]').value,
                age:       document.querySelector('input[name="age"]').value,
                gender:    document.querySelector('input[name="gender"]:checked').value,
                condition: document.querySelector('input[name="condition"]:checked').value,
                rhythm:    document.querySelector('input[name="rhythm"]:checked').value,
            });
        }
    </script>
</head>

<body>
    <h1>User Survey</h1>

    <form id="form" action="#" method="GET" onsubmit="save(); goto('step-2-test'); return false">
        <ul>
            <li>Email:<input type="email" name="email" placeholder="Email address" maxlength="100" autocomplete="off" required="required"></li>
            <li>Age: <input type="number" placeholder="Age" name="age" min="1" max="150" autocomplete="off" required="required"></li>
        </ul>

        <h2>What is your gender?</h2>
        <ul>
            <li><input type="radio" name="gender" value="male" required="required"> Male</li>
            <li><input type="radio" name="gender" value="female" required="required"> Female</li>
            <li><input type="radio" name="gender" value="other" required="required"> Other</li>
        </ul>

        <h2>How do you feel?</h2>
        <ul>
            <li><input type="radio" name="condition" value="well rested" required="required"> Well rested</li>
            <li><input type="radio" name="condition" value="normal" required="required"> Normal</li>
            <li><input type="radio" name="condition" value="tired" required="required"> Tired</li>
        </ul>

        <h2>What is your sense of rhythm?</h2>
        <ul>
            <li><input type="radio" name="rhythm" value="perfect" required="required"> Perfect</li>
            <li><input type="radio" name="rhythm" value="above average" required="required"> Above average</li>
            <li><input type="radio" name="rhythm" value="average" required="required"> Average</li>
            <li><input type="radio" name="rhythm" value="below average" required="required"> Below average</li>
            <li><input type="radio" name="rhythm" value="poor" required="required"> Poor</li>
        </ul>
        <input type="submit" value="Proceed to the test" />
    </form>
</body>
</html>
